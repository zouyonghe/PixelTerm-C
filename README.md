# PixelTerm-C - High Performance Terminal Image Viewer

![Version](https://img.shields.io/badge/Version-v1.5.12-blue)
![License](https://img.shields.io/badge/License-LGPL--3.0-orange)

*English | [ä¸­æ–‡](README_zh.md)*

ğŸ–¼ï¸ A high-performance terminal image/video/book browser written in C, based on the [Chafa](https://github.com/hpjansson/chafa) library.

## Overview

PixelTerm-C is a C implementation of the original PixelTerm application, designed to provide significantly better performance than the Python version while maintaining all the same functionality. By leveraging the Chafa library directly instead of using subprocess calls, we eliminate the overhead of Python interpretation and external process creation.

Release notes: see [CHANGELOG.md](CHANGELOG.md).

## ğŸŒŸ Features

- ğŸ–¼ï¸ **Multi-format Support** - Supports JPG, PNG, GIF, BMP, WebP, TIFF and other mainstream image formats
- ğŸ¬ **Animated GIF Support** - Play animated GIFs directly in the terminal with proper timing and high-quality rendering
- ğŸ¥ **Video Playback** - Play MP4, MKV, AVI, MOV, WebM, MPEG/MPG, and M4V videos in the terminal (video-only, no audio)
- ğŸ“š **Book Reading** - PDF/EPUB/CBZ support with page grid preview and reader (requires MuPDF)
- ğŸ¨ **TrueColor Rendering** - Full 24-bit color support with automatic detection and optimization
- ğŸ“ **Smart Browsing** - Automatically detects image files in directories with directory navigation support
- âŒ¨ï¸ **Keyboard Navigation** - Switch between images with arrow keys, supporting various terminal environments
- ğŸ“ **Adaptive Display** - Automatically adapts to terminal size changes
- ğŸ¨ï¸ **Minimal Interface** - No redundant information, focused on image browsing experience
- âš¡ï¸ **High Performance** - 5-10x faster than Python version with significantly lower memory usage
- ğŸ”„ **Circular Navigation** - Seamless browsing with wrap-around between first and last images
- ğŸ—ï¸ **Multi-architecture Support** - Native support for both amd64 and aarch64 (ARM64) architectures
- ğŸ–±ï¸ **Mouse Support** - Intuitive mouse navigation, selection, and scrolling across all modes
- ğŸ” **Image Zoom** - Mouse-wheel zoom in single image view (cursor over image; not for video/animated)
- ğŸ“¦ **Preloading** - Image preloading for faster navigation (enabled by default).
- ğŸ¨ **Dithering** - Improves visual quality in color-limited terminals (disabled by default).

## Performance Improvements

| Metric | Python Version | C Version | Improvement |
|--------|---------------|-----------|-------------|
| Startup Time | ~1-2s | ~0.1-0.3s | Several times faster |
| Image Switching | ~200-500ms | ~50-150ms | 2-5x faster |
| Memory Usage | ~50-100MB | ~15-35MB | 2-3x reduction |
| CPU Usage | High (Python + subprocess) | Medium (pure C) | Noticeable reduction |

## ğŸ“¸ Screenshot

Here is a screenshot demonstrating PixelTerm-C in action:

<img src="screenshots/2.png" alt="PixelTerm-C Screenshot">

*Image generated by zimage, terminal used: Warp*

Terminals with the best image quality and color accuracy tested so far:
- [rio](https://github.com/raphamorim/rio)
- [ghostty](https://github.com/ghostty-org/ghostty)
- [warp](https://www.warp.dev/)
- [iterm2](https://github.com/gnachman/iTerm2)
- [contour](https://github.com/contour-terminal/contour)

## ğŸš€ Quick Start

### Install Dependencies

```bash
# Ubuntu/Debian
sudo apt-get install libchafa-dev libglib2.0-dev libgdk-pixbuf2.0-dev libavformat-dev libavcodec-dev libswscale-dev libavutil-dev pkg-config build-essential
# Optional (book support):
sudo apt-get install libmupdf-dev

# Arch Linux
sudo pacman -S chafa glib2 gdk-pixbuf2 ffmpeg pkgconf base-devel
# Optional (book support):
sudo pacman -S mupdf
```

### Quick Install

```bash
# Install from package manager (recommended)
# Arch Linux: paru -S pixelterm-c or yay -S pixelterm-c

# Or download binary for your architecture and platform
# Linux AMD64:
wget https://github.com/zouyonghe/PixelTerm-C/releases/latest/download/pixelterm-amd64-linux
chmod +x pixelterm-amd64-linux && sudo mv pixelterm-amd64-linux /usr/local/bin/pixelterm

# Linux ARM64:
wget https://github.com/zouyonghe/PixelTerm-C/releases/latest/download/pixelterm-arm64-linux
chmod +x pixelterm-arm64-linux && sudo mv pixelterm-arm64-linux /usr/local/bin/pixelterm

# macOS AMD64:
wget https://github.com/zouyonghe/PixelTerm-C/releases/latest/download/pixelterm-amd64-macos
chmod +x pixelterm-amd64-macos && sudo mv pixelterm-amd64-macos /usr/local/bin/pixelterm

# macOS ARM64 (Apple Silicon):
wget https://github.com/zouyonghe/PixelTerm-C/releases/latest/download/pixelterm-arm64-macos
chmod +x pixelterm-arm64-macos && sudo mv pixelterm-arm64-macos /usr/local/bin/pixelterm

# Note for macOS users: If the binary fails to start due to security restrictions, run:
# xattr -dr com.apple.quarantine pixelterm-arm64-macos
```

### Building from Source

```bash
git clone https://github.com/zouyonghe/PixelTerm-C.git
cd PixelTerm-C
make

# The binary will be at pixelterm
# (Or install system-wide with: sudo make install)
# Note: Book support is enabled when MuPDF is available; otherwise it builds without it.

# For cross-compilation to aarch64
make CC=aarch64-linux-gnu-gcc ARCH=aarch64
# Note: Cross-compilation is experimental and requires corresponding architecture-specific dependency libraries to be correctly installed on the host system.
```

### Usage

See [USAGE.md](USAGE.md).

## ğŸ® Controls

See [CONTROLS.md](CONTROLS.md).
## ğŸ“„ License

LGPL-3.0 or later - See LICENSE file for details

This project is licensed under the same license as [Chafa](https://github.com/hpjansson/chafa) (LGPLv3+).

---

**PixelTerm-C** - Making terminals excellent image viewers with lightning speed! ğŸ–¼ï¸
